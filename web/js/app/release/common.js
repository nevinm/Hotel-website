function checkLoggedIn(){"true"==localStorage.loggedIn||"true"==localStorage.admin_loggedIn?($userentry.hide(),$("#navbar-username a").text(localStorage.username),$(".account-header h2").text(localStorage.username+"'S ACCOUNT"),$(".delivery-info-container").show(),$(".delivery-info-guest-container").hide(),$(".delivery-info .checkout-header span").text("DELIVERY INFO")):($userentry.show(),$("#logout").hide(),$("li#navbar-username").hide(),$(".delivery-info .checkout-header span").text("GUEST CUSTOMER DETAILS")),$("#menu").show()}function redirectIfLoggedIn(){"true"==localStorage.loggedIn&&(window.location.href="../index.html")}function dollarConvert(a){var b="$"+a;return b}function getHourCorrected(a){return("0"+a).slice(-2)}function returnDay(a){var b=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];return b[a]}function weekendRestrictionDayCount(a){return dateCount={firstDateCount:0,secondDateCount:0},"6"==a?dateCount={firstDateCount:2,secondDateCount:3}:"0"==a?dateCount={firstDateCount:1,secondDateCount:2}:"5"==a?dateCount={firstDateCount:0,secondDateCount:3}:dateCount={firstDateCount:0,secondDateCount:1},dateCount}function getCurrentDateTime(a){var b=new Date;return b.setDate(b.getDate()+a),datetime=("0"+(b.getMonth()+1)).slice(-2)+"-"+("0"+b.getDate()).slice(-2)+"-"+b.getFullYear()}function getCurrentPageTitle(){return $("title").text()}function stringToDate(a,b,c){var d=b.toLowerCase(),e=d.split(c),f=a.split(c),g=e.indexOf("mm"),h=e.indexOf("dd"),i=e.indexOf("yyyy"),j=parseInt(f[g]);j-=1;var k=new Date(f[i],j,f[h]);return k}function convertToEST(a){var b=0,c=new Date(a);return utc=c.getTime()+6e4*c.getTimezoneOffset(),serverDate=new Date(utc+36e5*b),serverDate}function getEstFormattedForWebService(a){var b=a.getHours(),c=(a.getDate(),a.getMonth()+1,a.getFullYear(),(("0"+(a.getMonth()+1)).slice(-2)+"-"+("0"+a.getDate()).slice(-2)+"-"+a.getFullYear()+" "+getHourCorrected(b)+":00:00").replace(/\-/g,"/"));return c}function convertToMeridianTime(a){var b=(a.split(" ")[0],a.split(" ")[1],parseInt(a.split(" ")[1].slice(0,-6))),c=a.split(" ")[1].slice(3,-3),d=b>12?"PM":"AM",e=(b+11)%12+1,f={date:a.split(" ")[0],time:e+":"+c+d};return f}function getCurrentDateMonth(a){var b=new Date,c=[];b.setDate(b.getDate()+a),c=["January","February","March","April","May","June","July","August","September","October","November","December"];var d=c[b.getMonth()],e=returnDay(b.getDay());return dateMonth=e+", "+d+" "+("0"+b.getDate()).slice(-2)}function getStringAfterHash(a,b){return-1!=a.indexOf(b)?a.substr(a.indexOf(b)+1):!1}function getCurrentHourMin(){var a=new Date,b=a.getHours(),c=("0"+a.getMinutes()).slice(-2),d=b+":"+c;return d}function getMonthDate(a){return a.replace(/\-/g,"/").substring(0,5)}function getCurrentYear(){var a=new Date;return a.getFullYear()}function getDateTimeRequiredFormat(a){return a.replace(/\//g,"-")}function getParameterFromUrl(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var b=new RegExp("[\\?&]"+a+"=([^&#]*)"),c=b.exec(location.search);return null===c?"":decodeURIComponent(c[1].replace(/\+/g," "))}function getCurrentPage(a,b,c){return currentPage=c.substring(c.lastIndexOf(a)+1,c.lastIndexOf(b))}function verifyAccount(){var a=window.location.href,b=a.indexOf("account_verify");a.indexOf("email_verify");if(-1!=b&&void 0!=b){var c={message:"Account is verified, proceed to login."},d={message:"account is not verified."},e={message:"Account already verified."};showPopup("true"==a.split("?")[1].split("=")[1]?c:"error"==a.split("&")[1].split("=")[0]?e:d)}}function logingOut(){$("#menu").hide(),eraseCookie("SessionExpireTime"),ClearLocalStorage(),localStorage.loggedIn=!1,localStorage.admin_loggedIn=!1,$("#navbar-username a").text(""),$userentry.show(),$("#menu").removeClass("menuPadding"),$(".logout").addClass("hide"),currentPage=$("title").text(),"Meisterdish - Admin"==currentPage?window.location.href="index.html":"Meisterdish Home Page"==currentPage||(window.location.href="../index.html")}function ClearLocalStorage(){localStorage.removeItem("username"),localStorage.removeItem("session_key"),localStorage.removeItem("cartItems"),localStorage.removeItem("fb-id"),localStorage.removeItem("user_profile"),localStorage.removeItem("delivery_addressess"),localStorage.removeItem("fb-image"),localStorage.removeItem("admin_role"),localStorage.removeItem("referral_code")}function showPopup(a){var b=a.message;$(".popup-container .content span").text(b),$(".popup-wrapper").show(),-2==a.status&&$("#close").addClass("session-expire-close")}function showSessionExpire(a){var b=a.message;$(".popup-container .content span").text(b),$(".sessionexpire-wrapper").show()}function showErrorPopup(a){var b=a.message;$(".popup-container .content span").text(b),$(".error-popup-wrapper").show(),$("#ok-button").on("click",function(){$(".error-popup-wrapper").hide()})}function CartItemCount(a){var b=baseURL+"get_cart_items_count/",c={"session-key":localStorage.session_key},d={};data=JSON.stringify(d);var e=new AjaxHttpSender;e.sendPost(b,c,data,CartItemCountCallback,a)}function addFormFields(a,b){null!=b&&$.each(b,function(b,c){if(null!=c){var d=$("<input></input>").attr("type","hidden").attr("name",b).val(c);a.append(d)}})}function mobileResponsive(){$(window).width()<=767&&$(window).width()>=320?(1==clicked&&($("#page-container").css("margin-left","300px"),$("#header").css("margin-left","300px"),$(window).width()<=380&&$(window).width()>=320&&($("#page-container").css("margin-left","80%"),$("#header").css("margin-left","80%"))),"menu"==currentPage&&("true"==localStorage.loggedIn?($("#page-container").css("margin-top","125px"),$("#header").css("margin-top","50px")):($("#page-container").css("margin-top","75px"),$("#header").css("margin-top","0px")))):($("#page-container").css("margin-left","0px"),$("#page-container").show(),$("#header").css("margin-left","0px"),"menu"==currentPage&&("true"==localStorage.loggedIn?($("#page-container").css("margin-top","140px"),$("#header").css("margin-top","40px")):($("#page-container").css("margin-top","100px"),$("#header").css("margin-top","0px"))))}function convertToEmbedded(a){var b=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/,c=a.match(b);return c&&11==c[2].length?c[2]:"error"}function setCartCount(){cartCount=parseInt($(".count").text())}var userDetails,currentPage=$("title").text(),currentPageTitle,clicked=0,cartCount=0,$userentry=$(".login-signup");$(document).ready(function(){$("#logout,.mobile-logout").on("click",function(){logingOut()}),$(".socialMedia").on("click",function(){var a=$(this).attr("id");"facebook"==a&&window.open("http://www.facebook.com/meisterdish","_blank"),"twitter"==a&&window.open("https://twitter.com/meisterdish","_blank"),"instagram"==a&&window.open("http://instagram.com/meisterdish","_blank"),"pinterest"==a&&window.open("http://pinterest.com/meisterdish","_blank")}),$("ul.social-media-icons").find(".sml_sprite").not(".facebook").hide(),$(".icon-menu").on("click",function(){clicked=1,leftMargin=0,$(".navMenu").show(),window.innerWidth<380?leftMargin="80%":leftMargin="300px",$("#header").animate({marginLeft:leftMargin}),$("#page-container").animate({marginLeft:"80%"}),setTimeout(function(){$("#page-container").hide()}),$(".navMenu").animate({marginLeft:"0"}),setTimeout(function(){$(".icon-menu").addClass("icon-cancel").removeClass("icon-menu")},100),$(".logo-mobile").hide(),"menu"==currentPage&&($(".menu-offer").hide(),$("#header").css("margin-top","0px"))}),$(document).on("click",".icon-cancel",function(){clicked=0,$(".navMenu").animate({marginLeft:"-80%"}),$("#page-container").animate({marginLeft:"0px"}),setTimeout(function(){$("#page-container").show(),$(".icon-cancel").addClass("icon-menu").removeClass("icon-cancel")},700),$("#header").animate({marginLeft:"0px"}),setTimeout(function(){window.innerWidth<1024&&window.innerWidth>768&&$(".logo-mobile").show()},600),"menu"==currentPage&&setTimeout(function(){$(".menu-offer").show(),"true"==localStorage.loggedIn&&($(window).width()<=767&&$(window).width()>=320?$("#header").css("margin-top","50px"):$("#header").css("margin-top","40px"))},700)}),$(document).on("keydown",function(a){var b=a.which;13==b&&($(".popup-container").is(":visible")?($("#ok-button").is(":visible")&&($("#ok-button").trigger("click"),$("#ok-button")[0].click()),$("#no-button").is(":visible")&&$("#no-button").trigger("click"),$("#ok").is(":visible")&&(window.location.href=$("#ok").attr("href")),$(".popup-container #see-menu").is(":visible")&&$(".popup-container #see-menu")[0].click(),0===$(".popup-container").find("form").length&&(a.preventDefault(),$("#close").trigger("click"))):($("#gift-place-order").is(":visible")&&$("#address").valid()&&$("#pay-form").valid()&&$("#gift-place-order").trigger("click"),$(".resetsuccess-container ").is(":visible")&&$("#done-button").is(":visible")&&$("#done-button")[0].click()))}),verifyAccount()}),checkLoggedIn(),$(document).on("click","#close",function(){$(".popup-container").removeAttr("style"),$(".popup-wrapper").hide(),("Meisterdish - Signup"==currentPage||"Meisterdish - Login"==currentPage)&&("true"==localStorage.loggedIn||"true"==localStorage.admin_loggedIn)&&(window.location.href="menu.html"),"Meisterdish - Gift Cards Payment"==getCurrentPageTitle()&&$(".redirectApproved").length&&(window.location.href="gift-cards-select.html"),$(this).hasClass("session-expire-close")&&logingOut()}),$("form").each(function(){$(this).validate({rules:{firstname:{required:!0,minlength:2,maxlength:15,letters:!0},lastname:{required:!0,minlength:1,maxlength:15,letters:!0},fullname:{required:!0,minlength:3,maxlength:20,letters:!0},username:{required:!0,minlength:3,maxlength:15},mealname:{required:!0,minlength:3},mealsubHeader:{required:!0,minlength:3},chef_name:{required:!0,minlength:3},mealprice:{required:!0,number:!0},mealtax:{required:!0,number:!0},mealdescription:{required:!0,minlength:5},oldpassword:{required:!0,minlength:6},message:{required:!0},password:{required:!0,minlength:6,maxlength:20},date:{required:!0},email:{required:!0,email:!0},confirmEmail:{required:!0,email:!0,equalTo:"#new-email"},phonenumber:{required:!0,minlength:10,maxlength:15,number:!0},confirmpassword:{required:!0,minlength:6,equalTo:"#newpassword"},repassword:{required:!0,minlength:6,equalTo:"#new-password"},promocode:{required:!0,maxlength:9},giftcard:{required:!0,maxlength:8},giftcardname:{required:!0,maxlength:8},zip:{zipcode:!0},state:{required:!0},city:{required:!0},street:{required:!0,minlength:4},building:{required:!0,minlength:2},available:{required:!0,number:!0,minAmount:0,maxlength:10,even:!0},category:{required:!0},meal_type:{required:!0},cardnumber:{required:!0,creditcard:!0},nameOnCard:{required:!0,minlength:2,maxlength:20,letters:!0},expiryMonth:{required:!0},expiryYear:{required:!0},cvv:{number:!0,minlength:3,maxlength:4,required:!0},url:{youtube_url:!0},preperationtime:{required:!0},savedtime:{required:!0},tips_details:{required:!0,minlength:2},amount:{required:!0,minAmount:2},credits:{required:!0,number:!0,maxlength:5},giftcardcustomamount:{required:!0,decimal:!0,minlength:2,minAmount:25,maxAmount:1e6},invitecode:{required:!0},delivery_tip:{required:!0,minAmount:0,maxAmount:10},new_category:{required:!0,minlength:3},update_category:{required:!0,minlength:5,maxlength:25},tip:{number:!0,minAmount:0},order:{required:!0,number:!0},calories:{required:!0,number:!0},dailyvalue:{number:!0},subject:{minlength:3,required:!0},promoCode:{required:!0}},messages:{firstname:{required:"Please enter your first name.",letters:"Name should contain only alphabets.",minlength:"Name should contain at least 2 characters.",maxlength:"Name should not contain more than 15 charcters."},lastname:{required:"Please enter your last name.",letters:"Name should contain only alphabets.",minlength:"Name should contain at least 2 characters.",maxlength:"Name should not contain more than 15 charcters."},phonenumber:"Please enter as xxxxxxxxxx",fullname:{required:"Please enter your full name.",letters:"Name should contain only alphabets.",minlength:"Name should contain at least 2 characters.",maxlength:"Name should not contain more than 15 charcters."},password:{required:"Please provide a password.",minlength:"Password should be of minimum 6 characters."},calories:{required:"Please enter calories",number:"Please enter a number"},username:{required:"Please enter username.",minlength:"Name should contain at least 2 characters.",maxlength:"Name should not contain more than 15 charcters."},confirmpassword:{required:"Please provide a password.",minlength:"Password should be of minimum 6 characters.",equalTo:"Password doesn't match."},repassword:{required:"Please provide a password.",minlength:"Password should be of minimum 6 characters.",equalTo:"Password doesn't match."},message:{required:"Please enter a message"},confirmEmail:{equalTo:"Email doesn't match.",required:"Please provide email."},giftcardcustomamount:{required:"Please enter an amount.",minAmount:"Enter a min amount of 25",decimal:"Please enter a whole number.",maxAmount:"Please enter a lower amount"},amount:{required:"Please enter an amount.",minAmount:"Enter a valid amount"},credits:{required:"Please enter an amount",number:"Enter a valid number"},delivery_tip:{required:"Please enter a valid tip",minAmount:"Enter amount between 1 and 10",maxAmount:"Enter amount between 1 and 10"},preperationtime:{required:"Please enter prepared time"},savedtime:{required:"Please enter saved time"},dailyvalue:{number:"Should be a number"},nameOnCard:"Enter valid name.",expiryMonth:"Enter exp month.",expiryYear:"Enter exp year.",email:"Enter a valid email address.",zip:"Provide a valid zip.",street:"Provide a valid address.",building:"Provide a valid address.",state:"Provide a state name.",city:"Provide a city name.",mealprice:"Enter a valid meal price.",mealtax:"Enter a valid meal tax.",mealname:"Enter a valid meal name.",mealsubHeader:"Enter valid meal sub header.",message:"Enter a message.",chef_name:"Enter a valid chef name.",mealdescription:"Meal description is not valid.",cvv:"provide a valid cvv.",url:"Enter valid url.",tips_details:"Enter valid title.",invitecode:"Enter Invitecode",date:"Please enter date",promocode:"Please enter valid promocode.",giftcard:"Please enter valid code.",tip:{number:"Enter an amount",minAmount:"Enter valid tip",max:"The maximum limit is 1000"},available:{required:"Enter a valid number.",number:"Enter a valid number.",minAmount:"Enter a valid number.",maxlength:"Count should not contain more than 10 digits.",even:"Enter an even number."},promoCode:{required:"Please enter promo code."},giftcardname:"Enter valid giftcardname.",order:"Enter valid Order.",subject:"Enter a valid subject."}})}),$.validator&&($.validator.addMethod("letters",function(a){return a.match(/^[^\^<,\"@\/\{\}\(\)\*\$%\?=>:\|;#0-9]+$/)}),$.validator.addMethod("email",function(a){return a.match(/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)}),$.validator.addMethod("youtube_url",function(a){return a.match(/^(?:https?:\/\/)?(?:www\.)?youtube\.com\/watch\?(?=.*v=((\w|-){11}))(?:\S+)?$/)}),$.validator.addMethod("minAmount",function(a,b,c){return a>=c}),$.validator.addMethod("maxAmount",function(a,b,c){return c>=a}),$.validator.addMethod("zipcode",function(a){return a.match(/\d{5}-\d{4}$|^\d{5}$/)}),$.validator.addMethod("decimal",function(a,b){return this.optional(b)||/^[0-9,]+$/.test(a)}),$.validator.addMethod("positiveNumber",function(a){return Number(a)>0}),$.validator.addMethod("minlength",function(a,b,c){return this.optional(b)||a.trim().length>=c}),$.validator.addMethod("xss",function(a){var b=/<[^\w<>]*(?:[^<>"'\s]*:)?[^\w<>]*(?:\W*s\W*c\W*r\W*i\W*p\W*t|\W*f\W*o\W*r\W*m|\W*s\W*t\W*y\W*l\W*e|\W*s\W*v\W*g|\W*m\W*a\W*r\W*q\W*u\W*e\W*e|(?:\W*l\W*i\W*n\W*k|\W*o\W*b\W*j\W*e\W*c\W*t|\W*e\W*m\W*b\W*e\W*d|\W*a\W*p\W*p\W*l\W*e\W*t|\W*p\W*a\W*r\W*a\W*m|\W*i?\W*f\W*r\W*a\W*m\W*e|\W*b\W*a\W*s\W*e|\W*b\W*o\W*d\W*y|\W*m\W*e\W*t\W*a|\W*i\W*m\W*a?\W*g\W*e?|\W*v\W*i\W*d\W*e\W*o|\W*a\W*u\W*d\W*i\W*o|\W*b\W*i\W*n\W*d\W*i\W*n\W*g\W*s|\W*s\W*e\W*t|\W*i\W*s\W*i\W*n\W*d\W*e\W*x|\W*a\W*n\W*i\W*m\W*a\W*t\W*e)[^>\w])|(?:<\w[\s\S]*[\s\0\/]|['"])(?:formaction|style|background|src|lowsrc|ping|on(?:d(?:e(?:vice(?:(?:orienta|mo)tion|proximity|found|light)|livery(?:success|error)|activate)|r(?:ag(?:e(?:n(?:ter|d)|xit)|(?:gestur|leav)e|start|drop|over)?|op)|i(?:s(?:c(?:hargingtimechange|onnect(?:ing|ed))|abled)|aling)|ata(?:setc(?:omplete|hanged)|(?:availabl|chang)e|error)|urationchange|ownloading|blclick)|Moz(?:M(?:agnifyGesture(?:Update|Start)?|ouse(?:PixelScroll|Hittest))|S(?:wipeGesture(?:Update|Start|End)?|crolledAreaChanged)|(?:(?:Press)?TapGestur|BeforeResiz)e|EdgeUI(?:C(?:omplet|ancel)|Start)ed|RotateGesture(?:Update|Start)?|A(?:udioAvailable|fterPaint))|c(?:o(?:m(?:p(?:osition(?:update|start|end)|lete)|mand(?:update)?)|n(?:t(?:rolselect|extmenu)|nect(?:ing|ed))|py)|a(?:(?:llschang|ch)ed|nplay(?:through)?|rdstatechange)|h(?:(?:arging(?:time)?ch)?ange|ecking)|(?:fstate|ell)change|u(?:echange|t)|l(?:ick|ose))|m(?:o(?:z(?:pointerlock(?:change|error)|(?:orientation|time)change|fullscreen(?:change|error)|network(?:down|up)load)|use(?:(?:lea|mo)ve|o(?:ver|ut)|enter|wheel|down|up)|ve(?:start|end)?)|essage|ark)|s(?:t(?:a(?:t(?:uschanged|echange)|lled|rt)|k(?:sessione|comma)nd|op)|e(?:ek(?:complete|ing|ed)|(?:lec(?:tstar)?)?t|n(?:ding|t))|u(?:ccess|spend|bmit)|peech(?:start|end)|ound(?:start|end)|croll|how)|b(?:e(?:for(?:e(?:(?:scriptexecu|activa)te|u(?:nload|pdate)|p(?:aste|rint)|c(?:opy|ut)|editfocus)|deactivate)|gin(?:Event)?)|oun(?:dary|ce)|l(?:ocked|ur)|roadcast|usy)|a(?:n(?:imation(?:iteration|start|end)|tennastatechange)|fter(?:(?:scriptexecu|upda)te|print)|udio(?:process|start|end)|d(?:apteradded|dtrack)|ctivate|lerting|bort)|DOM(?:Node(?:Inserted(?:IntoDocument)?|Removed(?:FromDocument)?)|(?:CharacterData|Subtree)Modified|A(?:ttrModified|ctivate)|Focus(?:Out|In)|MouseScroll)|r(?:e(?:s(?:u(?:m(?:ing|e)|lt)|ize|et)|adystatechange|pea(?:tEven)?t|movetrack|trieving|ceived)|ow(?:s(?:inserted|delete)|e(?:nter|xit))|atechange)|p(?:op(?:up(?:hid(?:den|ing)|show(?:ing|n))|state)|a(?:ge(?:hide|show)|(?:st|us)e|int)|ro(?:pertychange|gress)|lay(?:ing)?)|t(?:ouch(?:(?:lea|mo)ve|en(?:ter|d)|cancel|start)|ime(?:update|out)|ransitionend|ext)|u(?:s(?:erproximity|sdreceived)|p(?:gradeneeded|dateready)|n(?:derflow|load))|f(?:o(?:rm(?:change|input)|cus(?:out|in)?)|i(?:lterchange|nish)|ailed)|l(?:o(?:ad(?:e(?:d(?:meta)?data|nd)|start)?|secapture)|evelchange|y)|g(?:amepad(?:(?:dis)?connected|button(?:down|up)|axismove)|et)|e(?:n(?:d(?:Event|ed)?|abled|ter)|rror(?:update)?|mptied|xit)|i(?:cc(?:cardlockerror|infochange)|n(?:coming|valid|put))|o(?:(?:(?:ff|n)lin|bsolet)e|verflow(?:changed)?|pen)|SVG(?:(?:Unl|L)oad|Resize|Scroll|Abort|Error|Zoom)|h(?:e(?:adphoneschange|l[dp])|ashchange|olding)|v(?:o(?:lum|ic)e|ersion)change|w(?:a(?:it|rn)ing|heel)|key(?:press|down|up)|(?:AppComman|Loa)d|no(?:update|match)|Request|zoom))[\s\0]*=/;return a.test(b)}),$.validator.addMethod("even",function(a){return Number(a)%2===0}),$.validator.addMethod("equals",function(a,b,c){return a.toUpperCase()===c}));var CartItemCountCallback={success:function(a,b,c){var d=JSON.parse(a);1==d.status?$("span.count").text(d.count):$("span.count").text("0"),void 0!==c&&c()},failure:function(a,b,c){}};$(window).resize(function(){mobileResponsive()}),$(window).load(function(){mobileResponsive()});