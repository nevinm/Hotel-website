function stripeIntegration(){$("#pay-form").submit(function(a){if($("#pay-form").valid()){a.preventDefault();var b=$(this);return b.find("button").prop("disabled",!0),Stripe.card.createToken(b,stripeResponseHandler),!1}})}function stripeResponseHandler(a,b){var c=$("#pay-form");if(b.error){c.find("button").prop("disabled",!1);var d={};return d.message=b.error.message,void showPopup(d)}var e=b.id,f=getCurrentPage("/",".html",window.location.href);"add-creditcard"==f?saveCreditCardDetails(e):"checkout"==f?cardNotSavedCreateOrder(e):"giftcard-payment"==f&&fetchGiftCardData(e)}var StripeController=function(){function a(a,b){c.callback=b,c.form=a;var d=a;return Stripe.card.createToken(d,StripeController.tokenResponseHandler),!1}function b(a,b){void 0!==c.callback&&c.callback(a,b,c.form)}var c={callback:void 0,form:void 0};return{createToken:a,tokenResponseHandler:b}}();